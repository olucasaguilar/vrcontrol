<% @fabric_stock_groups = [
  [["Malha", "Preto"], { tipo_tecido: { nome: "Malha" }, cor: { nome: "Preto" }, quantidade_kilos: 1.0 }],
  [["Algodão", "Branco"], { tipo_tecido: { nome: "Algodão" }, cor: { nome: "Branco" }, quantidade_kilos: 10.0 }],
  [["Malha", "Branco"], { tipo_tecido: { nome: "Malha" }, cor: { nome: "Branco" }, quantidade_kilos: 3.0 }],
  [["Algodão", "Azul"], { tipo_tecido: { nome: "Algodão" }, cor: { nome: "Azul" }, quantidade_kilos: 5.0 }],
  [["Seda", "Vermelho"], { tipo_tecido: { nome: "Seda" }, cor: { nome: "Vermelho" }, quantidade_kilos: 2.0 }],
  [["Lã", "Verde"], { tipo_tecido: { nome: "Lã" }, cor: { nome: "Verde" }, quantidade_kilos: 7.0 }]
] %>

<h1>Estoque de Tecidos</h1>

<!-- Tabela para botões e campos de filtro -->
<table class="table table-bordered">
  <thead>
    <tr>
      <th>
        <div class="form-group">
          <label for="tipo_tecido">Tipo de Tecido:</label>
          <select class="form-control" id="tipo_tecido">
            <option value="">Todos</option>
            <% @fabric_stock_groups.map { |(_, fabric_stock)| fabric_stock[:tipo_tecido][:nome] }.uniq.each do |tipo| %>
              <option value="<%= tipo %>"><%= tipo %></option>
            <% end %>
          </select>
        </div>
      </th>
      <th>
        <div class="form-group">
          <label for="cor">Cor:</label>
          <select class="form-control" id="cor">
            <option value="">Todas</option>
            <% @fabric_stock_groups.map { |(_, fabric_stock)| fabric_stock[:cor][:nome] }.uniq.each do |cor| %>
              <option value="<%= cor %>"><%= cor %></option>
            <% end %>
          </select>
        </div>
      </th>
    </tr>
  </thead>
</table>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Tipo de Tecido <i class="fas fa-caret-up"></i></th>
      <th>Cor <i class="fas fa-caret-up"></i></th>
      <th>Quantidade em Quilos <i class="fas fa-caret-up"></i></th>
    </tr>
  </thead>
  <tbody>
    <% @fabric_stock_groups.each do |(tipo, cor), fabric_stock| %>
      <tr>
        <td><%= fabric_stock[:tipo_tecido][:nome] %></td>
        <td><%= fabric_stock[:cor][:nome] %></td>
        <td><%= fabric_stock[:quantidade_kilos] %> kg</td>
      </tr>
    <% end %>
  </tbody>
</table>

<!-- Paginação fictícia -->
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item disabled">
      <span class="page-link">Anterior</span>
    </li>
    <li class="page-item active" aria-current="page">
      <span class="page-link">1</span>
    </li>
    <li class="page-item">
      <a class="page-link" href="#">2</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="#">3</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="#">Próximo</a>
    </li>
  </ul>
</nav>

<!-- Botão de Impressão -->
<button class="btn btn-secondary" style="float: right;">Imprimir</button>
